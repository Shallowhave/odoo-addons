<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- 组件行视图 -->
    <record id="mrp_production_return_wizard_line_view_tree" model="ir.ui.view">
        <field name="name">mrp.production.return.wizard.line.tree</field>
        <field name="model">mrp.production.return.wizard.line</field>
        <field name="arch" type="xml">
            <list editable="bottom">
                <field name="move_id" column_invisible="1"/>
                <field name="available_product_ids" column_invisible="1"/>
                <field name="available_product_ids_str" column_invisible="1"/>
                <field name="available_product_ids_for_domain" column_invisible="1"/>
                <field name="product_id" string="组件" 
                       context="{'default_wizard_id': parent.id, 'default_production_id': parent.production_id.id if parent.production_id else False, 'active_id': parent.production_id.id if parent.production_id else False, 'active_model': 'mrp.production'}"
                       options="{'no_create': True, 'no_open': True}"/>
                <field name="product_uom_id" readonly="1" string="单位"/>
                <field name="expected_qty" readonly="1" string="计划数量"/>
                <field name="consumed_qty" readonly="1" string="已消耗"/>
                <field name="remaining_qty" readonly="1" string="剩余数量"/>
                <field name="return_qty" string="返回/报废数量"/>
                <field name="lot_quantity" readonly="1" string="附加单位数量" optional="show"/>
                <field name="lot_unit_name" readonly="1" string="附加单位" optional="show"/>
            </list>
        </field>
    </record>
</odoo>
