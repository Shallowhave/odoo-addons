<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- 统一产品计量单位类别 -->
        <record id="uom_categ_unified" model="uom.category">
            <field name="name">产品计量单位</field>
        </record>

        <!-- 基础核心单位：卷 (factor=1.0) -->
        <record id="uom_roll_base" model="uom.uom">
            <field name="name">卷</field>
            <field name="category_id" ref="uom_categ_unified"/>
            <field name="factor">1.0</field>
            <field name="uom_type">reference</field>
            <field name="rounding">0.001</field>
        </record>

        <!-- 面积单位：平米 (根据产品尺寸动态计算factor) -->
        <record id="uom_sqm_dynamic" model="uom.uom">
            <field name="name">平米</field>
            <field name="category_id" ref="uom_categ_unified"/>
            <field name="factor">1.0</field>  <!-- 将由产品动态计算 -->
            <field name="uom_type">smaller</field>
            <field name="rounding">0.01</field>
        </record>

        <!-- 重量单位：吨 (根据产品密度和尺寸动态计算factor) -->
        <record id="uom_ton_dynamic" model="uom.uom">
            <field name="name">吨</field>
            <field name="category_id" ref="uom_categ_unified"/>
            <field name="factor">0.001</field>  <!-- 将由产品动态计算 -->
            <field name="uom_type">bigger</field>
            <field name="rounding">0.0001</field>
        </record>

        <!-- 辅助包装单位：托盘 (多卷包装) -->
        <record id="uom_pallet_rolls" model="uom.uom">
            <field name="name">托盘</field>
            <field name="category_id" ref="uom_categ_unified"/>
            <field name="factor" eval="1.0/20"/>  <!-- 1托盘=20卷 -->
            <field name="uom_type">bigger</field>
            <field name="rounding">0.01</field>
        </record>
    </data>
</odoo>